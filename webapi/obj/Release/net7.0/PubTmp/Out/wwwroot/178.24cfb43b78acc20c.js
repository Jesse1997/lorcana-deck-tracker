"use strict";(self.webpackChunkangularapp=self.webpackChunkangularapp||[]).push([[178],{6178:(WN,N2,o)=>{o.r(N2),o.d(N2,{DeckModule:()=>qN});var M=o(6895);function S2(r,i,a,e,s,l,f){try{var t=r[l](f),n=t.value}catch(GN){return void a(GN)}t.done?i(n):Promise.resolve(n).then(e,s)}function h(r){return function(){var i=this,a=arguments;return new Promise(function(e,s){var l=r.apply(i,a);function f(n){S2(l,e,s,f,t,"next",n)}function t(n){S2(l,e,s,f,t,"throw",n)}f(void 0)})}}var U6={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},A8={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},c=o(8256),bN=o(529),e7=o(2216);function kN(r,i){if(1&r&&(c.TgZ(0,"div",13)(1,"h4",14),c._uU(2,"Card Added!"),c.qZA(),c.TgZ(3,"p",15),c._uU(4,"You now have "),c.TgZ(5,"b"),c._uU(6),c.qZA(),c._uU(7," cards of "),c.TgZ(8,"b"),c._uU(9),c.qZA()()()),2&r){const a=c.oxw();c.xp6(6),c.Oqu(a.addedCard.amount),c.xp6(3),c.HOy("",a.addedCard.name,"",""===a.addedCard.subname?"":", "+a.addedCard.subname,"",a.addedCard.isFoil?"(Foil)":"","",a.addedCard.isBorderless?"(Borderless)":"","")}}function AN(r,i){if(1&r&&(c.TgZ(0,"div",16)(1,"h4",14),c._uU(2,"Card Removed!"),c.qZA(),c.TgZ(3,"p",15),c._uU(4,"You now have "),c.TgZ(5,"b"),c._uU(6),c.qZA(),c._uU(7," cards of "),c.TgZ(8,"b"),c._uU(9),c.qZA()()()),2&r){const a=c.oxw();c.xp6(6),c.Oqu(a.removedCard.amount-1),c.xp6(3),c.HOy("",a.removedCard.name,"",""===a.removedCard.subname?"":", "+a.removedCard.subname,"",a.removedCard.isFoil?"(Foil)":"","",a.removedCard.isBorderless?"(Borderless)":"","")}}function BN(r,i){1&r&&(c.TgZ(0,"p")(1,"em"),c._uU(2,"Loading deck..."),c.qZA()())}function TN(r,i){if(1&r&&(c.TgZ(0,"div",17)(1,"div",18),c._uU(2,"My Deck"),c.qZA(),c.TgZ(3,"div",19)(4,"p",20),c._uU(5,"Total Cards: "),c.TgZ(6,"b"),c._uU(7),c.qZA(),c._UZ(8,"br"),c._uU(9,"Unique Enchanted Cards: "),c.TgZ(10,"b"),c._uU(11),c.qZA(),c._UZ(12,"br"),c._uU(13,"Unique Foil Cards: "),c.TgZ(14,"b"),c._uU(15),c.qZA(),c._UZ(16,"br"),c._uU(17,"Unique Normal Cards: "),c.TgZ(18,"b"),c._uU(19),c.qZA()(),c.TgZ(20,"p",20),c._uU(21,"Total Deck Value: "),c.TgZ(22,"b"),c._uU(23),c.ALo(24,"currency"),c.qZA(),c._UZ(25,"br"),c._uU(26,"Enchanted Cards Value: "),c.TgZ(27,"b"),c._uU(28),c.ALo(29,"currency"),c.qZA(),c._UZ(30,"br"),c._uU(31,"Foil Cards Value: "),c.TgZ(32,"b"),c._uU(33),c.ALo(34,"currency"),c.qZA(),c._UZ(35,"br"),c._uU(36,"Normal Cards Value: "),c.TgZ(37,"b"),c._uU(38),c.ALo(39,"currency"),c.qZA()()()()),2&r){const a=c.oxw();c.xp6(7),c.Oqu(a.totalCards),c.xp6(4),c.AsE("",a.enchantedCards,"/",a.totalEnchantedCards,""),c.xp6(4),c.AsE("",a.foilCards,"/",a.totalFoilCards,""),c.xp6(4),c.AsE("",a.normalCards,"/",a.totalNormalCards,""),c.xp6(4),c.Oqu(c.xi3(24,11,a.totalValue,"EUR")),c.xp6(5),c.Oqu(c.xi3(29,14,a.enchantedValue,"EUR")),c.xp6(5),c.Oqu(c.xi3(34,17,a.foilValue,"EUR")),c.xp6(5),c.Oqu(c.xi3(39,20,a.normalValue,"EUR"))}}function yN(r,i){if(1&r){const a=c.EpF();c.TgZ(0,"div")(1,"button",24),c.NdJ("mousedown",function(){const l=c.CHM(a).$implicit,f=c.oxw(2);return c.KtG(f.addCard(l))}),c.TgZ(2,"tr",25)(3,"td"),c._uU(4),c.qZA()()()()}if(2&r){const a=i.$implicit;c.xp6(4),c.HOy("",a.name,"",""===a.subname?"":", "+a.subname,"",a.isFoil?"(Foil)":"","",a.isBorderless?"(Borderless)":"","")}}function PN(r,i){if(1&r&&(c.TgZ(0,"table",21)(1,"tbody",22),c.YNc(2,yN,5,4,"div",23),c.qZA()()),2&r){const a=c.oxw();c.xp6(2),c.Q6J("ngForOf",a.getFilteredCards())}}function FN(r,i){if(1&r){const a=c.EpF();c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td"),c._uU(12),c.qZA(),c.TgZ(13,"td"),c._uU(14),c.ALo(15,"currency"),c.qZA(),c.TgZ(16,"td")(17,"button",27),c.NdJ("click",function(){const l=c.CHM(a).$implicit,f=c.oxw(2);return c.KtG(f.deleteCard(l))}),c._UZ(18,"fa-icon",9),c.qZA()()()}if(2&r){const a=i.$implicit,e=c.oxw(2);c.xp6(2),c.Oqu(a.name),c.xp6(2),c.Oqu(a.subname),c.xp6(2),c.Oqu(a.type),c.xp6(2),c.Oqu(a.isFoil?"Yes":"No"),c.xp6(2),c.Oqu(a.isBorderless?"Yes":"No"),c.xp6(2),c.Oqu(a.amount),c.xp6(2),c.Oqu(c.xi3(15,8,a.price*a.amount,"EUR")),c.xp6(4),c.Q6J("icon",e.faDelete)}}function DN(r,i){if(1&r&&(c.TgZ(0,"table",26)(1,"thead")(2,"tr")(3,"th"),c._uU(4,"Name"),c.qZA(),c.TgZ(5,"th"),c._uU(6,"Subname"),c.qZA(),c.TgZ(7,"th"),c._uU(8,"Type"),c.qZA(),c.TgZ(9,"th"),c._uU(10,"Foil"),c.qZA(),c.TgZ(11,"th"),c._uU(12,"Borderless"),c.qZA(),c.TgZ(13,"th"),c._uU(14,"Amount"),c.qZA(),c.TgZ(15,"th"),c._uU(16,"Value"),c.qZA(),c._UZ(17,"th"),c.qZA()(),c.TgZ(18,"tbody"),c.YNc(19,FN,19,11,"tr",23),c.qZA()()),2&r){const a=c.oxw();c.xp6(19),c.Q6J("ngForOf",a.deckCards)}}let RN=(()=>{class r{constructor(a){this.viewCards=!1,this.addedCard=null,this.removedCard=null,this.totalCards=0,this.enchantedCards=0,this.totalEnchantedCards=0,this.foilCards=0,this.totalFoilCards=0,this.normalCards=0,this.totalNormalCards=0,this.totalValue=0,this.enchantedValue=0,this.foilValue=0,this.normalValue=0,this.faAdd=A8,this.faDelete=U6,this.title="My Deck",a.get("/cards").subscribe(e=>{this.deckCards=e,this.deckCards.forEach(s=>{this.totalCards+=s.amount,this.totalValue+=s.price*s.amount,s.isBorderless&&(this.enchantedCards+=1,this.enchantedValue+=s.amount*s.price),!s.isBorderless&&s.isFoil&&(this.foilCards+=1,this.foilValue+=s.amount*s.price),!s.isBorderless&&!s.isFoil&&(this.normalCards+=1,this.normalValue+=s.amount*s.price)}),this.http=a},e=>console.error(e)),a.get("/cards/all").subscribe(e=>{this.cards=e,this.totalEnchantedCards=this.cards.filter(s=>s.isBorderless).length,this.totalFoilCards=this.cards.filter(s=>!s.isBorderless&&s.isFoil).length,this.totalNormalCards=this.cards.filter(s=>!s.isBorderless&&!s.isFoil).length,this.http=a},e=>console.error(e))}showCards(){this.viewCards=!0}hideCards(){this.viewCards=!1}addCard(a){var e=this;return h(function*(){document.getElementById("searchFilter").value="",e.http.post("/cards",a).subscribe(function(){var s=h(function*(l){e.deckCards=l,e.cards.find(f=>f.name==a.name&&f.subname==a.subname&&f.isFoil==a.isFoil&&f.isBorderless==a.isBorderless).amount+=1,e.addedCard=a,e.totalCards+=1,e.totalValue+=a.price,a.isBorderless&&1==a.amount&&(e.enchantedCards+=1,e.enchantedValue+=a.price),!a.isBorderless&&a.isFoil&&1==a.amount&&(e.foilCards+=1,e.foilValue+=a.price),!a.isBorderless&&!a.isFoil&&1==a.amount&&(e.normalCards+=1,e.normalValue+=a.price),yield e.sleep(5e3),e.addedCard=null});return function(l){return s.apply(this,arguments)}}(),s=>console.error(s))})()}sleep(a){return new Promise(e=>setTimeout(e,a))}deleteCard(a){var e=this;return h(function*(){e.http.post("/cards/delete",a).subscribe(function(){var s=h(function*(l){e.deckCards=l,e.cards.find(f=>f.name==a.name&&f.subname==a.subname&&f.isFoil==a.isFoil&&f.isBorderless==a.isBorderless).amount-=1,e.removedCard=a,e.totalCards-=1,e.totalValue-=a.price,a.isBorderless&&1==a.amount&&(e.enchantedCards-=1,e.enchantedValue-=a.price),!a.isBorderless&&a.isFoil&&1==a.amount&&(e.foilCards-=1,e.foilValue-=a.price),!a.isBorderless&&!a.isFoil&&1==a.amount&&(e.normalCards-=1,e.normalValue-=a.price),yield e.sleep(5e3),e.removedCard=null});return function(l){return s.apply(this,arguments)}}(),s=>console.error(s))})()}getFilteredCards(){let a=document.getElementById("searchFilter").value;return this.cards.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())||e.subname.toLowerCase().includes(a.toLowerCase())).slice(0,15)}static#c=this.\u0275fac=function(e){return new(e||r)(c.Y36(bN.eN))};static#a=this.\u0275cmp=c.Xpm({type:r,selectors:[["app-overview"]],decls:13,vars:7,consts:[[1,"container"],["class","alert alert-success position-absolute w-50","style","z-index: 1;","role","alert",4,"ngIf"],["class","alert alert-danger position-absolute w-50","style","z-index: 1;","role","alert",4,"ngIf"],[4,"ngIf"],["id","deck-stats","class","card text-dark bg-light my-5 text-center w-50 mx-auto","style","z-index: -1;",4,"ngIf"],[1,"input-group"],[1,"form-outline","w-100","text-center"],["type","text","id","searchFilter","placeholder","Add Card...",1,"form-control","w-75","mx-auto","d-inline",3,"input","blur"],["type","button",1,"btn","btn-success","mb-2"],[3,"icon"],[1,"form-outline","w-100"],["class","table table-dark table-hover w-75 mx-auto",4,"ngIf"],["class","table table-striped table-hover",4,"ngIf"],["role","alert",1,"alert","alert-success","position-absolute","w-50",2,"z-index","1"],[1,"alert-heading"],[1,"mb-0"],["role","alert",1,"alert","alert-danger","position-absolute","w-50",2,"z-index","1"],["id","deck-stats",1,"card","text-dark","bg-light","my-5","text-center","w-50","mx-auto",2,"z-index","-1"],[1,"card-header","text-center",2,"font-size","x-large"],[1,"card-body",2,"display","grid","grid-template-columns","auto auto"],[1,"card-text","mx-auto"],[1,"table","table-dark","table-hover","w-75","mx-auto"],[1,"position-absolute","w-75"],[4,"ngFor","ngForOf"],[1,"w-100","d-block","text-decoration-none",3,"mousedown"],[1,"w-100","d-block"],[1,"table","table-striped","table-hover"],["data-toggle","tooltip","data-placement","top","title","Remove Card",3,"click"]],template:function(e,s){1&e&&(c.TgZ(0,"div",0),c.YNc(1,kN,10,5,"div",1),c.YNc(2,AN,10,5,"div",2),c.YNc(3,BN,3,0,"p",3),c.YNc(4,TN,40,23,"div",4),c.TgZ(5,"div",5)(6,"div",6)(7,"input",7),c.NdJ("input",function(){return s.showCards()})("blur",function(){return s.hideCards()}),c.qZA(),c.TgZ(8,"button",8),c._UZ(9,"fa-icon",9),c.qZA()(),c.TgZ(10,"div",10),c.YNc(11,PN,3,1,"table",11),c.qZA()(),c.YNc(12,DN,20,1,"table",12),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",null!==s.addedCard),c.xp6(1),c.Q6J("ngIf",null!==s.removedCard),c.xp6(1),c.Q6J("ngIf",!s.deckCards),c.xp6(1),c.Q6J("ngIf",s.deckCards),c.xp6(5),c.Q6J("icon",s.faAdd),c.xp6(2),c.Q6J("ngIf",s.viewCards),c.xp6(1),c.Q6J("ngIf",s.deckCards))},dependencies:[M.sg,M.O5,e7.BN,M.H9],styles:["h1[_ngcontent-%COMP%]{color:#fff}#deck-stats[_ngcontent-%COMP%]{background-color:#e7ecef}"]})}return r})();var UN=o(2204);let qN=(()=>{class r{static#c=this.\u0275fac=function(e){return new(e||r)};static#a=this.\u0275mod=c.oAB({type:r});static#e=this.\u0275inj=c.cJS({imports:[M.ez,UN.Bz.forChild([{path:"overview",component:RN}]),e7.uH]})}return r})()}}]);